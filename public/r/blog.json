{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "blog",
  "title": "MDX Blog",
  "description": "A complete MDX blog with automatic table of contents, category badges, and shadcn/ui components. Features include: MDX with frontmatter, auto-generated ToC with scroll spy, responsive design, dark mode support, and SEO-ready schema markup.",
  "dependencies": [
    "next-mdx-remote",
    "gray-matter"
  ],
  "devDependencies": [
    "@tailwindcss/typography"
  ],
  "registryDependencies": [
    "avatar",
    "badge",
    "card"
  ],
  "files": [
    {
      "path": "registry/blog/app/blog/layout.tsx",
      "content": "export default function BlogLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <main className=\"flex-1\">{children}</main>\n    </div>\n  )\n}\n\n\n\n\n",
      "type": "registry:page",
      "target": "app/blog/layout.tsx"
    },
    {
      "path": "registry/blog/app/blog/page.tsx",
      "content": "import { BlogCard } from \"@/components/blog-card\"\nimport { getAllPosts } from '@/lib/mdx'\nimport { Metadata } from \"next\"\n\nexport const metadata: Metadata = {\n  title: \"Blog\",\n  description: \"Read our latest articles and insights.\",\n}\n\nexport default async function BlogPage() {\n  const posts = await getAllPosts()\n\n  return (\n    <div className=\"bg-background\">\n      <div className=\"max-w-4xl mx-auto px-4 py-12\">\n        <h1 className=\"text-3xl font-bold text-center mb-4\">Blog</h1>\n        <p className=\"text-muted-foreground text-center mb-12 max-w-2xl mx-auto\">\n          Read our latest articles and insights.\n        </p>\n\n        <div className=\"grid gap-6 sm:grid-cols-2\">\n          {posts.map((post) => (\n            <a\n              key={post.slug}\n              href={`/blog/${post.slug}`}\n            >\n              <BlogCard\n                category={post.category || 'General'}\n                title={post.title}\n                description={post.description || ''}\n                date={post.date}\n                readTime={post.readingTime || ''}\n              />\n            </a>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\n\n\n",
      "type": "registry:page",
      "target": "app/blog/page.tsx"
    },
    {
      "path": "registry/blog/app/blog/[slug]/page.tsx",
      "content": "import { notFound } from 'next/navigation'\nimport { MDXRemote } from 'next-mdx-remote/rsc'\nimport { getPostBySlug } from '@/lib/mdx'\nimport { Metadata } from 'next'\nimport { TableOfContents } from '@/components/table-of-contents'\nimport components from '@/lib/mdx-components'\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\"\nimport PromoCard from '@/components/footer-promo-card'\nimport TOCPromoCard from '@/components/toc-promo-card'\nimport BlogSchema from '@/components/blog-schema'\n\ninterface PageProps {\n  params: Promise<{\n    slug: string\n  }>\n}\n\nexport async function generateMetadata({ params }: PageProps): Promise<Metadata> {\n  const resolvedParams = await params\n  const post = await getPostBySlug(resolvedParams.slug)\n  if (!post) return {}\n\n  const title = post.title\n  const description = post.description || post.tldr\n\n  return {\n    title,\n    description,\n    openGraph: {\n      title,\n      description,\n      type: 'article',\n      publishedTime: post.date,\n    },\n    twitter: {\n      title,\n      description,\n    },\n    authors: post.author ? [{ name: post.author }] : undefined,\n  }\n}\n\nexport default async function Post({ params }: PageProps) {\n  const resolvedParams = await params\n  const post = await getPostBySlug(resolvedParams.slug)\n\n  if (!post) {\n    notFound()\n  }\n\n  return (\n    <>\n      <BlogSchema post={post} slug={resolvedParams.slug} />\n      <div className=\"mt-10 md:mt-0 pt-6 md:pt-16\">\n        <div className=\"flex flex-col items-center\">\n          <div className=\"mt-4 flex gap-32 flex-col lg:flex-row p-6 md:pl-60\">\n            <article className=\"flex-1 max-w-xl\">\n              <div className=\"mb-8\">\n                <h1 className=\"text-4xl font-semibold mb-6\">{post.title}</h1>\n                <div className=\"flex items-center gap-4 text-sm text-muted-foreground mb-12\">\n                  <Avatar>\n                    <AvatarImage src={post.authorImage} alt={post.author || 'Author'} />\n                    <AvatarFallback>{post.author?.charAt(0) || 'A'}</AvatarFallback>\n                  </Avatar>\n                  <div className=\"flex flex-col\">\n                    <div className=\"text-foreground/80\">{post.author}</div>\n                    <div>{post.date} — {post.readingTime}</div>\n                  </div>\n                </div>\n                {post.tldr && (\n                  <>\n                    <p className=\"text-xs font-semibold mb-4 tracking-widest text-foreground/80\">SUMMARY TL;DR</p>\n                    <div className=\"prose prose-lg dark:prose-invert mb-12 md:mb-24\">\n                      <p>{post.tldr}</p>\n                    </div>\n                    <hr className=\"border-border mb-12 md:mb-24\" />\n                  </>\n                )}\n              </div>\n\n              {/* Mobile ToC */}\n              <aside className=\"lg:hidden w-full my-12\">\n                <h2 className=\"text-xs font-semibold mb-4 tracking-widest text-foreground/80\">TABLE OF CONTENTS</h2>\n                <TableOfContents items={post.tableOfContents || []} />\n              </aside>\n\n              <div className=\"prose prose-lg dark:prose-invert max-w-none\">\n                <MDXRemote source={post.content} components={components} />\n              </div>\n            </article>\n\n            {/* Desktop ToC */}\n            <aside className=\"hidden lg:block w-64\">\n              <div className=\"sticky top-20\">\n                <h2 className=\"text-xs font-semibold mb-4 tracking-widest text-foreground/80\">TABLE OF CONTENTS</h2>\n                <TableOfContents items={post.tableOfContents || []} />\n                <div className=\"mt-12\">\n                  <TOCPromoCard />\n                </div>\n              </div>\n            </aside>\n          </div>\n\n          <div className=\"w-full max-w-6xl mt-32 mb-24\">\n            <PromoCard />\n          </div>\n\n        </div>\n      </div>\n    </>\n  )\n}\n",
      "type": "registry:page",
      "target": "app/blog/[slug]/page.tsx"
    },
    {
      "path": "registry/blog/lib/mdx.ts",
      "content": "import fs from 'fs'\nimport path from 'path'\nimport matter, { GrayMatterFile } from 'gray-matter'\n\nconst postsDirectory = path.join(process.cwd(), 'posts')\n\ntype MatterFileData = GrayMatterFile<string>['data']\n\nexport interface TableOfContentsItem {\n  title: string\n  url: string\n  level: number\n}\n\nexport type CategoryType = 'General' | 'Tutorial' | 'Guide' | 'News' | 'Opinion' | string\n\nexport interface PostMeta {\n  title: string\n  date: string\n  slug: string\n  content: string\n  tldr?: string\n  author?: string\n  authorImage?: string\n  category: CategoryType\n  description?: string\n  readingTime?: string\n  tags?: string[]\n  tableOfContents?: TableOfContentsItem[]\n  [key: string]: unknown\n}\n\nfunction extractHeadings(content: string): TableOfContentsItem[] {\n  const headingRegex = /^#{2,4}\\s+(.+)$/gm\n  const headings: TableOfContentsItem[] = []\n\n  let match\n  while ((match = headingRegex.exec(content)) !== null) {\n    const title = match[1]\n    const level = match[0].split('#').length - 1\n    const url = title\n      .toLowerCase()\n      .replace(/[^a-z0-9 -]/g, '')\n      .replace(/\\s+/g, '-')\n      .replace(/-+/g, '-')\n\n    headings.push({\n      title,\n      url: `#${url}`,\n      level,\n    })\n  }\n\n  return headings\n}\n\nexport async function getPostBySlug(slug: string): Promise<PostMeta | null> {\n  const realSlug = slug.replace(/\\.mdx$/, '')\n  const filePath = path.join(postsDirectory, `${realSlug}.mdx`)\n\n  if (!fs.existsSync(filePath)) {\n    return null\n  }\n\n  const fileContents = fs.readFileSync(filePath, 'utf8')\n  const matterResult: GrayMatterFile<string> = matter(fileContents)\n  const matterData: MatterFileData = matterResult.data\n\n  const tableOfContents = extractHeadings(matterResult.content)\n\n  return {\n    ...(matterData as PostMeta),\n    slug: realSlug,\n    content: matterResult.content,\n    tableOfContents,\n  }\n}\n\nexport async function getAllPosts(): Promise<PostMeta[]> {\n  if (!fs.existsSync(postsDirectory)) {\n    return []\n  }\n  \n  const files = fs.readdirSync(postsDirectory)\n  const posts = await Promise.all(\n    files\n      .filter((file) => file.endsWith('.mdx'))\n      .map(async (fileName) => {\n        const post = await getPostBySlug(fileName)\n        return post\n      })\n  )\n\n  return posts\n    .filter((post): post is PostMeta => post !== null)\n    .sort((a, b) => {\n      const dateA = new Date(a.date.replace(/(\\d+)(st|nd|rd|th)/, '$1'))\n      const dateB = new Date(b.date.replace(/(\\d+)(st|nd|rd|th)/, '$1'))\n      return dateB.getTime() - dateA.getTime()\n    })\n}\n\nexport async function getFeaturedPosts(): Promise<PostMeta[]> {\n  const allPosts = await getAllPosts()\n  return allPosts.slice(0, 2)\n}\n\n\n\n\n",
      "type": "registry:lib",
      "target": "lib/mdx.ts"
    },
    {
      "path": "registry/blog/lib/mdx-components.tsx",
      "content": "import { HTMLAttributes } from 'react';\nimport Image from 'next/image'\n\nfunction slugify(str: string) {\n  return str\n    .toLowerCase()\n    .replace(/[^a-z0-9 -]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-');\n}\n\nconst components = {\n  Image,\n  h2: ({ children, ...props }: HTMLAttributes<HTMLHeadingElement>) => {\n    const id = slugify(children?.toString() || '');\n    return (\n      <h2 id={id} {...props}>\n        {children}\n      </h2>\n    );\n  },\n  h3: ({ children, ...props }: HTMLAttributes<HTMLHeadingElement>) => {\n    const id = slugify(children?.toString() || '');\n    return (\n      <h3 id={id} {...props}>\n        {children}\n      </h3>\n    );\n  },\n  h4: ({ children, ...props }: HTMLAttributes<HTMLHeadingElement>) => {\n    const id = slugify(children?.toString() || '');\n    return (\n      <h4 id={id} {...props}>\n        {children}\n      </h4>\n    );\n  },\n};\n\nexport default components;\n\n\n\n\n",
      "type": "registry:lib",
      "target": "lib/mdx-components.tsx"
    },
    {
      "path": "registry/blog/components/table-of-contents.tsx",
      "content": "'use client'\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { TableOfContentsItem } from '@/lib/mdx';\n\ninterface TableOfContentsProps {\n  items: TableOfContentsItem[];\n}\n\nexport function TableOfContents({ items }: TableOfContentsProps) {\n  const [activeId, setActiveId] = useState<string>();\n\n  // Filter for only h2 headings\n  const mainHeadings = items.filter(item => item.level === 2);\n\n  useEffect(() => {\n    const callback = (entries: IntersectionObserverEntry[]) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          setActiveId(entry.target.id);\n        }\n      });\n    };\n\n    const observer = new IntersectionObserver(callback, {\n      rootMargin: '-80px 0px -80% 0px',\n      threshold: 0\n    });\n\n    mainHeadings.forEach((heading) => {\n      const element = document.getElementById(heading.url.slice(1));\n      if (element) {\n        observer.observe(element);\n      }\n    });\n\n    // Check if we're at the top of the page and select first heading\n    const handleScroll = () => {\n      if (window.scrollY < 200 && mainHeadings.length > 0) {\n        const firstHeadingId = mainHeadings[0].url.slice(1);\n        setActiveId(firstHeadingId);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    // Initial check\n    handleScroll();\n\n    return () => {\n      observer.disconnect();\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [mainHeadings]);\n\n  const scrollToSection = (e: React.MouseEvent<HTMLAnchorElement>, id: string) => {\n    e.preventDefault();\n    const element = document.getElementById(id);\n    if (element) {\n      const offset = 64;\n      const elementPosition = element.getBoundingClientRect().top;\n      const offsetPosition = elementPosition + window.pageYOffset - offset;\n\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  if (mainHeadings.length === 0) {\n    return null;\n  }\n\n  return (\n    <nav className=\"space-y-1 text-sm\">\n      {mainHeadings.map((heading) => {\n        const isActive = `#${activeId}` === heading.url;\n\n        return (\n          <a\n            key={heading.url}\n            href={heading.url}\n            onClick={(e) => scrollToSection(e, heading.url.slice(1))}\n            className={`\n              block py-1 flex items-center gap-2\n              [transition:color_600ms_ease-in-out]\n              ${isActive ? 'text-foreground font-medium' : 'text-muted-foreground'}\n              hover:text-foreground\n            `}\n          >\n            <div className=\"w-4 flex justify-center [transition:width_1000ms_ease-in-out]\">\n              {isActive && (\n                <div className=\"w-1.5 h-1.5 rounded-full bg-foreground\" />\n              )}\n            </div>\n            <div className=\"flex-1\">\n              {heading.title}\n            </div>\n          </a>\n        );\n      })}\n    </nav>\n  );\n}\n\n\n\n\n",
      "type": "registry:component",
      "target": "components/table-of-contents.tsx"
    },
    {
      "path": "registry/blog/components/blog-card.tsx",
      "content": "import { CategoryBadge } from \"@/components/category-badge\"\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\"\nimport { ChevronRight } from 'lucide-react'\nimport { CategoryType } from '@/lib/mdx'\n\ninterface BlogCardProps {\n  category: CategoryType\n  title: string\n  description: string\n  date: string\n  readTime: string\n}\n\nexport function BlogCard({ category, title, description, date, readTime }: BlogCardProps) {\n  return (\n    <Card className=\"group relative overflow-hidden transition-colors hover:bg-accent\">\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n        <CategoryBadge category={category} className=\"mb-2\"/>\n        <ChevronRight className=\"h-5 w-5 text-muted-foreground transition-transform group-hover:translate-x-1 group-hover:text-foreground\" />\n      </CardHeader>\n      <CardContent>\n        <h3 className=\"mb-4 text-xl font-medium text-foreground\">{title}</h3>\n        <p className=\"mb-6 text-sm text-muted-foreground\">{description}</p>\n        <div className=\"text-xs text-muted-foreground\">\n          {date} — {readTime}\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\n\n\n\n",
      "type": "registry:component",
      "target": "components/blog-card.tsx"
    },
    {
      "path": "registry/blog/components/category-badge.tsx",
      "content": "import { Badge } from \"@/components/ui/badge\"\nimport { cn } from \"@/lib/utils\"\nimport { CategoryType } from \"@/lib/mdx\"\n\n// Default category styles - customize these for your blog\nconst categoryStyles: Record<string, string> = {\n  General: \"bg-slate-500/10 text-slate-500 hover:bg-slate-500/20\",\n  Tutorial: \"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20\",\n  Guide: \"bg-green-500/10 text-green-500 hover:bg-green-500/20\",\n  News: \"bg-amber-500/10 text-amber-500 hover:bg-amber-500/20\",\n  Opinion: \"bg-purple-500/10 text-purple-500 hover:bg-purple-500/20\",\n  Origins: \"bg-amber-500/10 text-amber-500 hover:bg-amber-500/20\",\n}\n\ninterface CategoryBadgeProps {\n  category: CategoryType\n  className?: string\n}\n\nexport function CategoryBadge({ category, className }: CategoryBadgeProps) {\n  const style = categoryStyles[category] || categoryStyles.General\n  \n  return (\n    <Badge \n      variant=\"secondary\" \n      className={cn(style, className)}\n    >\n      {category}\n    </Badge>\n  )\n}\n\n",
      "type": "registry:component",
      "target": "components/category-badge.tsx"
    },
    {
      "path": "registry/blog/components/blog-schema.tsx",
      "content": "import { PostMeta } from '@/lib/mdx'\n\ninterface BlogSchemaProps {\n  post: PostMeta\n  slug: string\n  siteUrl?: string\n  siteName?: string\n}\n\nexport default function BlogSchema({ \n  post, \n  slug, \n  siteUrl = 'https://example.com',\n  siteName = 'My Blog'\n}: BlogSchemaProps) {\n  const schema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"BlogPosting\",\n    \"headline\": post.title,\n    \"description\": post.description || post.tldr,\n    \"author\": {\n      \"@type\": \"Person\",\n      \"name\": post.author || 'Anonymous'\n    },\n    \"datePublished\": post.date,\n    \"url\": `${siteUrl}/blog/${slug}`,\n    \"publisher\": {\n      \"@type\": \"Organization\",\n      \"name\": siteName\n    }\n  }\n\n  return (\n    <script\n      type=\"application/ld+json\"\n      dangerouslySetInnerHTML={{ __html: JSON.stringify(schema) }}\n    />\n  )\n}\n\n\n\n\n",
      "type": "registry:component",
      "target": "components/blog-schema.tsx"
    },
    {
      "path": "registry/blog/components/footer-promo-card.tsx",
      "content": "import React from \"react\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\n\nconst PromoCard = () => {\n return (\n   <Card className=\"mx-4 my-6 md:my-12 md:mx-auto md:max-w-6xl overflow-hidden border-white shadow-lg rounded-lg\">\n     <CardContent className=\"p-6 md:p-12\">\n       <div className=\"grid grid-cols-1 md:grid-cols-2 md:gap-8\">\n         <div\n           className=\"flex items-center justify-center max-h-72 mb-24 md:mb-0 bg-muted rounded-lg\"\n           style={{ aspectRatio: \"4/3\" }}\n         >\n           {/* Add any content here */}\n         </div>\n         <div className=\"flex flex-col justify-center space-y-8 md:space-y-0\">\n          <div className=\"max-w-md mx-auto md:mx-0 space-y-6 md:space-y-4 text-center md:text-left\">\n            <h1 className=\"text-xl md:text-2xl font-semibold text-foreground\">\n              Install your blog structure and focus on the content.\n            </h1>\n            <p className=\"text-base text-muted-foreground\">\n              A ready to use blog template, easily customizable with support for custom react components and optimized for modern SEO.\n            </p>\n            <a \n              href=\"https://github.com/marcelokunze/awakening-blog\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"block\"\n            >\n              <Button size=\"sm\" variant=\"secondary\" className=\"w-full\">\n                Learn More\n              </Button>\n            </a>\n          </div>\n         </div>\n       </div>\n     </CardContent>\n   </Card>\n )\n}\n\nexport default PromoCard\n\n",
      "type": "registry:component",
      "target": "components/footer-promo-card.tsx"
    },
    {
      "path": "registry/blog/components/toc-promo-card.tsx",
      "content": "import { Button } from \"@/components/ui/button\"\n\nexport default function TOCPromoCard() {\n  return (\n    <div className=\"rounded-lg bg-card p-4 text-center space-y-4\">\n      <div className=\"space-y-2\">\n        <h2 className=\"text-sm font-semibold\">\n          Install your blog structure.\n        </h2>\n        <p className=\"text-sm text-muted-foreground\">\n          A complete modern MDX blog structure with 1 install.\n        </p>\n      </div>\n      \n      <a \n        href=\"https://github.com/marcelokunze/awakening-blog\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"block\"\n      >\n        <Button size=\"sm\" variant=\"secondary\" className=\"w-full\">\n          Learn More\n        </Button>\n      </a>\n    </div>\n  )\n}\n\n",
      "type": "registry:component",
      "target": "components/toc-promo-card.tsx"
    }
  ],
  "type": "registry:block"
}